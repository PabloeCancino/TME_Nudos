--- TCN_01_Fundamentos.lean (ORIGINAL)
+++ TCN_01_Fundamentos.lean (CORREGIDO)
@@ -310,10 +310,26 @@
 
     El vector de signos determina la diferencia entre nudos quirales:
     - Nudos espejos tienen mismo IME pero σ opuesto
     - Permite reconstruir DME desde IME y σ
     -/
+
+/-- Función de signo para enteros.
+    
+    Retorna 1 para positivos, -1 para negativos, 0 para cero.
+    Definición explícita porque Int.sign no está disponible en Lean 4.26.0.
+-/
+def intSign (x : ℤ) : ℤ :=
+  if x > 0 then 1 else if x < 0 then -1 else 0
+
+/-- El signo de -x es el opuesto del signo de x -/
+lemma intSign_neg (x : ℤ) : intSign (-x) = -intSign x := by
+  unfold intSign
+  split_ifs <;> omega
+
+/-- El signo de x*(-1) es el signo de x multiplicado por -1 -/
+lemma intSign_mul_neg_one (x : ℤ) : intSign (x * (-1)) = intSign x * (-1) := by
+  unfold intSign
+  split_ifs <;> omega
+
 noncomputable def chiralSigns (K : K3Config) : List ℤ :=
-  K.dme.map Int.sign
+  K.dme.map intSign
 
 /-- Gap Total: Complejidad estructural acumulada.
@@ -940,14 +956,11 @@
             simp only [List.foldl]
             rw [← ih' (x + h')]
             ring
   -- Aplicar para chiralSigns
-  have : (K.dme.map (· * (-1))).map (fun x => if x > 0 then 1 else if x < 0 then -1 else 0) =
-         (K.dme.map (fun x => if x > 0 then 1 else if x < 0 then -1 else 0)).map (· * (-1)) := by
+  have : (K.dme.map (· * (-1))).map intSign =
+         (K.dme.map intSign).map (· * (-1)) := by
     apply List.ext_get
     · simp [List.length_map]
     intro i h1 h2
     simp only [List.get_map]
-    have : K.dme[i] = K.dme[i] := rfl
-    cases hd : K.dme[i] <;> simp
-    split_ifs with h3 h4 h5 h6 <;> omega
+    exact intSign_mul_neg_one (K.dme[i])
   rw [this]
-  exact sum_neg (K.dme.map fun x => if x > 0 then 1 else if x < 0 then -1 else 0)
+  exact sum_neg (K.dme.map intSign)
